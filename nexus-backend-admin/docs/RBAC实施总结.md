# RBACæƒé™ç®¡ç†å®æ–½æ€»ç»“

## âœ… å·²å®ŒæˆåŠŸèƒ½

### 1. æ•°æ®åº“è®¾è®¡

#### 1.1 æƒé™ç®¡ç†è¡¨ï¼ˆV20251003_2__init_permission.sqlï¼‰

| è¡¨å | è¯´æ˜ | å…³é”®å­—æ®µ |
|------|------|----------|
| `system_menu` | ç³»ç»Ÿèœå•è¡¨ | type (1=ç›®å½•, 2=èœå•, 3=æŒ‰é’®), permission (æƒé™æ ‡è¯†) |
| `system_role` | ç³»ç»Ÿè§’è‰²è¡¨ | code (è§’è‰²ç¼–ç ), type (1=ç³»ç»Ÿå†…ç½®, 2=è‡ªå®šä¹‰) |
| `system_role_menu` | è§’è‰²èœå•å…³è”è¡¨ | role_id, menu_id |
| `system_user_role` | ç”¨æˆ·è§’è‰²å…³è”è¡¨ | user_id, role_id |

**åˆå§‹åŒ–æ•°æ®ï¼š**
- è¶…çº§ç®¡ç†å‘˜è§’è‰² (code=admin)
- ç³»ç»Ÿç®¡ç†ç›®å½•
- ç”¨æˆ·ç®¡ç†ã€è§’è‰²ç®¡ç†ã€èœå•ç®¡ç†ï¼ˆå«CRUDæƒé™ï¼‰

#### 1.2 å­—å…¸è¡¨ï¼ˆV20251003_3__init_dict.sqlï¼‰

**å•è¡¨è®¾è®¡æ–¹æ¡ˆï¼š**

```sql
CREATE TABLE `system_dict` (
  `id` BIGINT PRIMARY KEY,
  `dict_type` VARCHAR(100),      -- å­—å…¸ç±»å‹
  `dict_label` VARCHAR(100),     -- æ˜¾ç¤ºæ ‡ç­¾
  `dict_value` VARCHAR(100),     -- å®é™…å€¼
  `sort` INT,                    -- æ’åº
  `status` TINYINT,              -- çŠ¶æ€
  `color_type` VARCHAR(20),      -- é¢œè‰²æ ‡ç­¾
  ...
)
```

**ä¼˜åŠ¿ï¼š**
- âœ… ç»“æ„ç®€å•ï¼ŒæŸ¥è¯¢ç›´æ¥ï¼Œæ— éœ€ JOIN
- âœ… æ˜“äºç†è§£å’Œç»´æŠ¤
- âœ… æ”¯æŒåŠ¨æ€æ‰©å±•å­—å…¸ç±»å‹
- âœ… åŒ…å«é¢œè‰²æ ‡ç­¾ï¼Œæ–¹ä¾¿å‰ç«¯å±•ç¤º

**åˆå§‹åŒ–å­—å…¸ï¼š**
- `sys_user_sex` - ç”¨æˆ·æ€§åˆ«
- `sys_user_status` - ç”¨æˆ·çŠ¶æ€
- `sys_menu_type` - èœå•ç±»å‹
- `sys_menu_status` - èœå•çŠ¶æ€
- `sys_role_status` - è§’è‰²çŠ¶æ€
- `sys_common_status` - é€šç”¨çŠ¶æ€
- `sys_yes_no` - æ˜¯å¦é€‰é¡¹

---

### 2. åç«¯å®ç°

#### 2.1 èœå•ç®¡ç†æ¨¡å—

**å®ä½“å±‚ (DO)ï¼š**
- `MenuDO` - èœå•å®ä½“ï¼Œç»§æ‰¿ `BaseDO`

**Mapper å±‚ï¼š**
- `MenuMapper` - ç»§æ‰¿ `BaseMapper<MenuDO>`

**VO å±‚ï¼š**
- `MenuRespVO` - èœå•å“åº” VOï¼ˆå« children å­—æ®µæ”¯æŒæ ‘å½¢ç»“æ„ï¼‰
- `MenuSaveReqVO` - èœå•ä¿å­˜è¯·æ±‚ VOï¼ˆåˆ›å»º/æ›´æ–°ï¼‰

**Service å±‚ï¼š**
- `MenuService` æ¥å£
- `MenuServiceImpl` å®ç°
  - `create()` - åˆ›å»ºèœå•
  - `update()` - æ›´æ–°èœå•
  - `delete()` - åˆ é™¤èœå•ï¼ˆçº§è”åˆ é™¤è§’è‰²èœå•å…³è”ï¼‰
  - `getById()` - è·å–èœå•è¯¦æƒ…
  - `getMenuTree()` - è·å–èœå•æ ‘ï¼ˆé€’å½’æ„å»ºï¼‰
  - `getMenuIdsByRoleId()` - è·å–è§’è‰²çš„èœå•IDåˆ—è¡¨

**Controller å±‚ï¼š**
- `MenuController`
  - `POST /api/system/menu` - åˆ›å»ºèœå•
  - `PUT /api/system/menu/{id}` - æ›´æ–°èœå•
  - `DELETE /api/system/menu/{id}` - åˆ é™¤èœå•
  - `GET /api/system/menu/{id}` - è·å–èœå•è¯¦æƒ…
  - `GET /api/system/menu/tree` - è·å–èœå•æ ‘
  - `GET /api/system/menu/role/{roleId}` - è·å–è§’è‰²èœå•IDåˆ—è¡¨

---

#### 2.2 è§’è‰²ç®¡ç†æ¨¡å—

**å®ä½“å±‚ (DO)ï¼š**
- `RoleDO` - è§’è‰²å®ä½“
- `RoleMenuDO` - è§’è‰²èœå•å…³è”
- `UserRoleDO` - ç”¨æˆ·è§’è‰²å…³è”

**Mapper å±‚ï¼š**
- `RoleMapper`
- `RoleMenuMapper`
- `UserRoleMapper`

**VO å±‚ï¼š**
- `RoleRespVO` - è§’è‰²å“åº” VO
- `RoleSaveReqVO` - è§’è‰²ä¿å­˜è¯·æ±‚ VO
- `RoleAssignMenuReqVO` - è§’è‰²åˆ†é…èœå•è¯·æ±‚ VO

**Service å±‚ï¼š**
- `RoleService` æ¥å£
- `RoleServiceImpl` å®ç°
  - `create()` - åˆ›å»ºè§’è‰²ï¼ˆæ ¡éªŒç¼–ç å”¯ä¸€æ€§ï¼‰
  - `update()` - æ›´æ–°è§’è‰²
  - `delete()` - åˆ é™¤è§’è‰²ï¼ˆæ ¡éªŒç³»ç»Ÿå†…ç½®ã€ç”¨æˆ·å…³è”ï¼‰
  - `getById()` - è·å–è§’è‰²è¯¦æƒ…
  - `getList()` - è·å–è§’è‰²åˆ—è¡¨
  - `assignMenu()` - åˆ†é…èœå•ï¼ˆå…ˆåˆ åæ’ï¼‰

**Controller å±‚ï¼š**
- `RoleController`
  - `POST /api/system/role` - åˆ›å»ºè§’è‰²
  - `PUT /api/system/role/{id}` - æ›´æ–°è§’è‰²
  - `DELETE /api/system/role/{id}` - åˆ é™¤è§’è‰²
  - `GET /api/system/role/{id}` - è·å–è§’è‰²è¯¦æƒ…
  - `GET /api/system/role/list` - è·å–è§’è‰²åˆ—è¡¨
  - `POST /api/system/role/assign-menu` - åˆ†é…èœå•

---

#### 2.3 å­—å…¸ç®¡ç†æ¨¡å—

**å®ä½“å±‚ (DO)ï¼š**
- `DictDO` - å­—å…¸å®ä½“

**Mapper å±‚ï¼š**
- `DictMapper`

**VO å±‚ï¼š**
- `DictRespVO` - å­—å…¸å“åº” VO

**Service å±‚ï¼š**
- `DictService` æ¥å£
- `DictServiceImpl` å®ç°
  - `getListByType()` - æ ¹æ®å­—å…¸ç±»å‹è·å–åˆ—è¡¨
  - `getAllDict()` - è·å–æ‰€æœ‰å­—å…¸ï¼ˆç”¨äºå‰ç«¯ç¼“å­˜ï¼‰

**Controller å±‚ï¼š**
- `DictController`
  - `GET /api/system/dict/type/{dictType}` - æ ¹æ®ç±»å‹è·å–å­—å…¸
  - `GET /api/system/dict/all` - è·å–æ‰€æœ‰å­—å…¸

---

### 3. é€šç”¨å·¥å…·ç±»

**ç»Ÿä¸€å“åº”ç»“æœï¼š**
- `Result<T>` - ç»Ÿä¸€å“åº”åŒ…è£…ç±»
  - `success()` / `success(T data)` - æˆåŠŸå“åº”
  - `error(Integer code, String message)` - å¤±è´¥å“åº”

**ä¾èµ–ç®¡ç†ï¼š**
- å·²æ·»åŠ  `spring-boot-starter-validation` ä¾èµ–

---

### 4. å‰ç«¯å®ç°

#### 4.1 èœå•ç®¡ç†æ¨¡å—

**ç±»å‹å®šä¹‰ (types.ts)ï¼š**
- `Menu` - èœå•ç±»å‹ï¼ˆæ”¯æŒ children æ ‘å½¢ç»“æ„ï¼‰
- `MenuForm` - èœå•è¡¨å•ç±»å‹

**API æœåŠ¡ (index.ts)ï¼š**
- `create()` - åˆ›å»ºèœå•
- `update()` - æ›´æ–°èœå•
- `delete()` - åˆ é™¤èœå•
- `getById()` - è·å–èœå•è¯¦æƒ…
- `getMenuTree()` - è·å–èœå•æ ‘
- `getMenuIdsByRoleId()` - è·å–è§’è‰²èœå•IDåˆ—è¡¨

**é¡µé¢ç»„ä»¶ (index.tsx)ï¼š**
- âœ… æ ‘å½¢è¡¨æ ¼å±•ç¤ºèœå•
- âœ… æ”¯æŒæ–°å¢æ ¹èŠ‚ç‚¹èœå•
- âœ… æ”¯æŒåœ¨ä»»æ„èŠ‚ç‚¹ä¸‹æ–°å¢å­èœå•
- âœ… æ”¯æŒç¼–è¾‘èœå•
- âœ… æ”¯æŒåˆ é™¤èœå•ï¼ˆå¸¦ç¡®è®¤ï¼‰
- âœ… èœå•ç±»å‹æ ‡ç­¾å±•ç¤ºï¼ˆç›®å½•/èœå•/æŒ‰é’®ï¼‰
- âœ… çŠ¶æ€æ ‡ç­¾å±•ç¤ºï¼ˆå¯ç”¨/ç¦ç”¨ï¼‰
- âœ… è¡¨å•å­—æ®µå®Œæ•´ï¼ˆåç§°ã€ç±»å‹ã€æƒé™æ ‡è¯†ã€è·¯ç”±ã€å›¾æ ‡ã€ç»„ä»¶ç­‰ï¼‰

---

#### 4.2 è§’è‰²ç®¡ç†æ¨¡å—

**ç±»å‹å®šä¹‰ (types.ts)ï¼š**
- `Role` - è§’è‰²ç±»å‹
- `RoleForm` - è§’è‰²è¡¨å•ç±»å‹
- `RoleAssignMenuForm` - è§’è‰²åˆ†é…èœå•è¡¨å•ç±»å‹

**API æœåŠ¡ (index.ts)ï¼š**
- `create()` - åˆ›å»ºè§’è‰²
- `update()` - æ›´æ–°è§’è‰²
- `delete()` - åˆ é™¤è§’è‰²
- `getById()` - è·å–è§’è‰²è¯¦æƒ…
- `getList()` - è·å–è§’è‰²åˆ—è¡¨
- `assignMenu()` - åˆ†é…èœå•

**é¡µé¢ç»„ä»¶ (index.tsx)ï¼š**
- âœ… è¡¨æ ¼å±•ç¤ºè§’è‰²åˆ—è¡¨
- âœ… æ”¯æŒæ–°å¢è§’è‰²
- âœ… æ”¯æŒç¼–è¾‘è§’è‰²
- âœ… æ”¯æŒåˆ é™¤è§’è‰²ï¼ˆç³»ç»Ÿå†…ç½®è§’è‰²ä¸å¯åˆ é™¤ï¼‰
- âœ… è§’è‰²ç±»å‹æ ‡ç­¾å±•ç¤ºï¼ˆç³»ç»Ÿå†…ç½®/è‡ªå®šä¹‰ï¼‰
- âœ… çŠ¶æ€æ ‡ç­¾å±•ç¤ºï¼ˆå¯ç”¨/ç¦ç”¨ï¼‰
- âœ… åˆ†é¡µåŠŸèƒ½

**åˆ†é…èœå•ç»„ä»¶ (AssignMenuModal.tsx)ï¼š**
- âœ… æ ‘å½¢å¤é€‰æ¡†å±•ç¤ºæ‰€æœ‰èœå•
- âœ… è‡ªåŠ¨åŠ è½½è§’è‰²å·²åˆ†é…çš„èœå•
- âœ… é»˜è®¤å±•å¼€æ‰€æœ‰èŠ‚ç‚¹
- âœ… æ”¯æŒé€‰ä¸­/å–æ¶ˆé€‰ä¸­èœå•
- âœ… ä¿å­˜åˆ†é…ç»“æœ

---

## ğŸ“Š è¡¨å…³ç³»å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ system_user â”‚â”€â”€â”€â”€â”€â”€â”€â”‚ system_user_role â”‚â”€â”€â”€â”€â”€â”€â”€â”‚ system_role â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  1:N  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  N:1  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                          â”‚ 1:N
                                                          â”‚
                                                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                                  â”‚ system_role_menu  â”‚
                                                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                          â”‚ N:1
                                                          â–¼
                                                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                                  â”‚ system_menu â”‚
                                                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                   (parent_idè‡ªå…³è”)

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ system_dict â”‚  (dict_typeåˆ†ç»„)
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ¯ è®¾è®¡äº®ç‚¹

### 1. æœ€å°åŸåˆ™
- âœ… åªå®ç°å‰ç«¯çœŸæ­£éœ€è¦çš„æ¥å£
- âœ… ä¸åšè¿‡åº¦è®¾è®¡ï¼Œä¿æŒä»£ç ç®€æ´
- âœ… VO å­—æ®µç²¾ç®€ï¼ŒåªåŒ…å«å¿…è¦å±æ€§

### 2. èœå•æƒé™åˆä¸€
- âœ… ä¸€å¼ è¡¨æ‰¿è½½ç›®å½•ã€èœå•ã€æŒ‰é’®ä¸‰ç§ç±»å‹
- âœ… é€šè¿‡ `type` å­—æ®µåŒºåˆ†
- âœ… `permission` å­—æ®µå­˜å‚¨åç«¯æƒé™æ ‡è¯†

### 3. å•è¡¨å­—å…¸æ–¹æ¡ˆ
**vs yudao ä¸¤å±‚è®¾è®¡ï¼š**

| å¯¹æ¯”é¡¹ | yudao (ä¸¤å±‚) | nexus (å•è¡¨) |
|--------|-------------|--------------|
| è¡¨æ•°é‡ | 2å¼  | 1å¼  |
| æŸ¥è¯¢å¤æ‚åº¦ | éœ€è¦JOIN | ç›´æ¥æŸ¥è¯¢ |
| ç»´æŠ¤æˆæœ¬ | è¾ƒé«˜ | è¾ƒä½ |
| æ‰©å±•æ€§ | éœ€è¦å…ˆå»ºç±»å‹ | ç›´æ¥æ·»åŠ æ•°æ® |
| é€‚ç”¨åœºæ™¯ | å­—å…¸ç®¡ç†å¤æ‚ | å­—å…¸ç®¡ç†ç®€å• |

**ç»“è®ºï¼š** å¯¹äºä¸­å°å‹é¡¹ç›®ï¼Œå•è¡¨è®¾è®¡æ›´ç®€æ´é«˜æ•ˆã€‚

### 4. æ ‘å½¢ç»“æ„ä¼˜åŒ–
- ä½¿ç”¨ Map åˆ†ç»„ä¼˜åŒ–æ ‘æ„å»ºæ€§èƒ½
- é¿å…å¤šæ¬¡éå†åˆ—è¡¨

### 5. æ•°æ®æ ¡éªŒå®Œå–„
- è§’è‰²ç¼–ç å”¯ä¸€æ€§æ ¡éªŒ
- ç³»ç»Ÿå†…ç½®è§’è‰²ä¿æŠ¤
- èœå•åˆ é™¤å‰æ£€æŸ¥å­èœå•
- è§’è‰²åˆ é™¤å‰æ£€æŸ¥ç”¨æˆ·å…³è”

---

## âš ï¸ å¾…å®ç°åŠŸèƒ½

### 1. æƒé™éªŒè¯æœåŠ¡ (P1)
```java
@Component
public class PermissionService {
    public boolean has(String permission) {
        // è·å–å½“å‰ç”¨æˆ·æƒé™åˆ—è¡¨
        // æ ¡éªŒæ˜¯å¦åŒ…å«æŒ‡å®šæƒé™
    }
}
```

### 2. å‰ç«¯é¡µé¢ (P1)
- èœå•ç®¡ç†é¡µé¢ï¼ˆæ ‘å½¢è¡¨æ ¼ï¼‰
- è§’è‰²ç®¡ç†é¡µé¢ï¼ˆåˆ—è¡¨ + åˆ†é…èœå•ï¼‰
- åŠ¨æ€èœå•è·¯ç”±åŠ è½½
- æŒ‰é’®æƒé™æŒ‡ä»¤

### 3. æƒé™æ‹¦æˆªå™¨ (P2)
- Spring Security é›†æˆ
- æˆ–è‡ªå®šä¹‰æ‹¦æˆªå™¨ + æ³¨è§£

---

## ğŸ“ æ–‡ä»¶ç»“æ„

### åç«¯æ–‡ä»¶
```
nexus-boot/
â”œâ”€â”€ nexus-backend-admin/
â”‚   â”œâ”€â”€ src/main/java/.../admin/
â”‚   â”‚   â”œâ”€â”€ dal/
â”‚   â”‚   â”‚   â”œâ”€â”€ dataobject/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ permission/
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ MenuDO.java
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ RoleDO.java
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ RoleMenuDO.java
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ UserRoleDO.java
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ dict/
â”‚   â”‚   â”‚   â”‚       â””â”€â”€ DictDO.java
â”‚   â”‚   â”‚   â””â”€â”€ mapper/
â”‚   â”‚   â”‚       â”œâ”€â”€ permission/
â”‚   â”‚   â”‚       â”‚   â”œâ”€â”€ MenuMapper.java
â”‚   â”‚   â”‚       â”‚   â”œâ”€â”€ RoleMapper.java
â”‚   â”‚   â”‚       â”‚   â”œâ”€â”€ RoleMenuMapper.java
â”‚   â”‚   â”‚       â”‚   â””â”€â”€ UserRoleMapper.java
â”‚   â”‚   â”‚       â””â”€â”€ dict/
â”‚   â”‚   â”‚           â””â”€â”€ DictMapper.java
â”‚   â”‚   â”œâ”€â”€ controller/
â”‚   â”‚   â”‚   â”œâ”€â”€ permission/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ MenuController.java
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ RoleController.java
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ vo/
â”‚   â”‚   â”‚   â”‚       â”œâ”€â”€ menu/
â”‚   â”‚   â”‚   â”‚       â”‚   â”œâ”€â”€ MenuRespVO.java
â”‚   â”‚   â”‚   â”‚       â”‚   â””â”€â”€ MenuSaveReqVO.java
â”‚   â”‚   â”‚   â”‚       â””â”€â”€ role/
â”‚   â”‚   â”‚   â”‚           â”œâ”€â”€ RoleRespVO.java
â”‚   â”‚   â”‚   â”‚           â”œâ”€â”€ RoleSaveReqVO.java
â”‚   â”‚   â”‚   â”‚           â””â”€â”€ RoleAssignMenuReqVO.java
â”‚   â”‚   â”‚   â””â”€â”€ dict/
â”‚   â”‚   â”‚       â”œâ”€â”€ DictController.java
â”‚   â”‚   â”‚       â””â”€â”€ vo/
â”‚   â”‚   â”‚           â””â”€â”€ DictRespVO.java
â”‚   â”‚   â”œâ”€â”€ service/
â”‚   â”‚   â”‚   â”œâ”€â”€ permission/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ MenuService.java
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ RoleService.java
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ impl/
â”‚   â”‚   â”‚   â”‚       â”œâ”€â”€ MenuServiceImpl.java
â”‚   â”‚   â”‚   â”‚       â””â”€â”€ RoleServiceImpl.java
â”‚   â”‚   â”‚   â””â”€â”€ dict/
â”‚   â”‚   â”‚       â”œâ”€â”€ DictService.java
â”‚   â”‚   â”‚       â””â”€â”€ impl/
â”‚   â”‚   â”‚           â””â”€â”€ DictServiceImpl.java
â”‚   â”‚   â””â”€â”€ common/
â”‚   â”‚       â””â”€â”€ result/
â”‚   â”‚           â””â”€â”€ Result.java
â”‚   â””â”€â”€ src/main/resources/sql/
â”‚       â”œâ”€â”€ V20251003_2__init_permission.sql
â”‚       â””â”€â”€ V20251003_3__init_dict.sql
```

### å‰ç«¯æ–‡ä»¶
```
nexus-boot/nexus-backend-admin/ui/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ services/
â”‚   â”‚   â”œâ”€â”€ menu/
â”‚   â”‚   â”‚   â”œâ”€â”€ types.ts        # èœå•ç±»å‹å®šä¹‰
â”‚   â”‚   â”‚   â””â”€â”€ index.ts        # èœå• API
â”‚   â”‚   â””â”€â”€ role/
â”‚   â”‚       â”œâ”€â”€ types.ts        # è§’è‰²ç±»å‹å®šä¹‰
â”‚   â”‚       â””â”€â”€ index.ts        # è§’è‰² API
â”‚   â””â”€â”€ pages/
â”‚       â””â”€â”€ system/
â”‚           â”œâ”€â”€ menu/
â”‚           â”‚   â””â”€â”€ index.tsx   # èœå•ç®¡ç†é¡µé¢
â”‚           â””â”€â”€ role/
â”‚               â”œâ”€â”€ index.tsx   # è§’è‰²ç®¡ç†é¡µé¢
â”‚               â””â”€â”€ AssignMenuModal.tsx  # åˆ†é…èœå•å¼¹çª—
```

---

## ğŸš€ ä½¿ç”¨æŒ‡å—

### 1. æ•°æ®åº“åˆå§‹åŒ–

```bash
# 1. æ‰§è¡Œæƒé™ç®¡ç†åˆå§‹åŒ–è„šæœ¬
mysql -u root -p database_name < V20251003_2__init_permission.sql

# 2. æ‰§è¡Œå­—å…¸åˆå§‹åŒ–è„šæœ¬
mysql -u root -p database_name < V20251003_3__init_dict.sql
```

### 2. æ¥å£æµ‹è¯•

```bash
# è·å–èœå•æ ‘
curl http://localhost:8080/api/system/menu/tree

# è·å–è§’è‰²åˆ—è¡¨
curl http://localhost:8080/api/system/role/list

# è·å–å­—å…¸ï¼ˆç”¨æˆ·æ€§åˆ«ï¼‰
curl http://localhost:8080/api/system/dict/type/sys_user_sex
```

### 3. å‰ç«¯è°ƒç”¨ç¤ºä¾‹

```typescript
// è·å–èœå•æ ‘
const menuTree = await request.get('/api/system/menu/tree');

// åˆ†é…èœå•
await request.post('/api/system/role/assign-menu', {
  roleId: 1,
  menuIds: [1, 100, 1001, 1002]
});

// è·å–å­—å…¸
const sexDict = await request.get('/api/system/dict/type/sys_user_sex');
```

---

## ğŸ’¡ å­—å…¸è¡¨è®¾è®¡æ€è€ƒ

### yudao ä¸¤å±‚è®¾è®¡
```sql
-- å­—å…¸ç±»å‹è¡¨
system_dict_type (id, dict_type, dict_name, status, remark)

-- å­—å…¸æ•°æ®è¡¨
system_dict_data (id, dict_type, dict_label, dict_value, sort)
```

**ä¼˜ç‚¹ï¼š**
- ç±»å‹å’Œæ•°æ®åˆ†ç¦»ç®¡ç†
- å¯ä»¥å¯¹å­—å…¸ç±»å‹è¿›è¡Œç»Ÿä¸€é…ç½®

**ç¼ºç‚¹ï¼š**
- éœ€è¦ä¸¤å¼ è¡¨
- æŸ¥è¯¢éœ€è¦ JOIN æˆ–ä¸¤æ¬¡æŸ¥è¯¢
- ç»“æ„ç›¸å¯¹å¤æ‚

### nexus å•è¡¨è®¾è®¡
```sql
-- å•è¡¨è®¾è®¡
system_dict (id, dict_type, dict_label, dict_value, sort, color_type)
```

**ä¼˜ç‚¹ï¼š**
- åªéœ€ä¸€å¼ è¡¨
- æŸ¥è¯¢ç›´æ¥é«˜æ•ˆï¼š`SELECT * FROM system_dict WHERE dict_type = ?`
- æ˜“äºç†è§£å’Œç»´æŠ¤
- æ”¯æŒ color_type ç­‰æ‰©å±•å­—æ®µ

**ç¼ºç‚¹ï¼š**
- æ— æ³•å¯¹å­—å…¸ç±»å‹å•ç‹¬ç®¡ç†é…ç½®
- å¦‚æœéœ€è¦å­—å…¸ç±»å‹çº§åˆ«çš„å±æ€§ï¼Œéœ€è¦é€šè¿‡çº¦å®šæˆ–é…ç½®æ–‡ä»¶

**ç»“è®ºï¼š**
- å¯¹äºå¤§å¤šæ•°ä¸­å°å‹é¡¹ç›®ï¼Œå•è¡¨è®¾è®¡è¶³å¤Ÿ
- å¦‚æœæœ‰å¤æ‚çš„å­—å…¸ç±»å‹ç®¡ç†éœ€æ±‚ï¼Œå¯ä»¥è€ƒè™‘ä¸¤å±‚è®¾è®¡
- å¯ä»¥åç»­æŒ‰éœ€æ‰©å±•ä¸ºä¸¤å±‚è®¾è®¡

---

## âœ… å®Œæˆåº¦

| æ¨¡å— | åç«¯ | å‰ç«¯ | çŠ¶æ€ |
|------|------|------|------|
| èœå•ç®¡ç† | âœ… | âœ… | **å·²å®Œæˆ** |
| è§’è‰²ç®¡ç† | âœ… | âœ… | **å·²å®Œæˆ** |
| å­—å…¸ç®¡ç† | âœ… | â³ | åç«¯å®Œæˆ |
| æƒé™éªŒè¯ | â³ | â³ | å¾…å®ç° |

---

## ğŸ“¸ é¡µé¢é¢„è§ˆ

### èœå•ç®¡ç†é¡µé¢
- æ ‘å½¢è¡¨æ ¼å±•ç¤ºæ‰€æœ‰èœå•ï¼ˆç›®å½•/èœå•/æŒ‰é’®ï¼‰
- æ”¯æŒå¤šçº§èœå•åµŒå¥—
- æ“ä½œæ ï¼šæ–°å¢å­èœå•ã€ç¼–è¾‘ã€åˆ é™¤
- æ–°å¢/ç¼–è¾‘è¡¨å•ï¼šå®Œæ•´çš„èœå•é…ç½®é¡¹

### è§’è‰²ç®¡ç†é¡µé¢
- è¡¨æ ¼å±•ç¤ºè§’è‰²åˆ—è¡¨
- æ“ä½œæ ï¼šåˆ†é…æƒé™ã€ç¼–è¾‘ã€åˆ é™¤
- æ–°å¢/ç¼–è¾‘è¡¨å•ï¼šè§’è‰²åŸºæœ¬ä¿¡æ¯
- åˆ†é…æƒé™å¼¹çª—ï¼šæ ‘å½¢å¤é€‰æ¡†é€‰æ‹©èœå•

---

**ğŸ“… åˆ›å»ºæ—¶é—´ï¼š** 2025-10-03  
**ğŸ“… æ›´æ–°æ—¶é—´ï¼š** 2025-10-03  
**ğŸ‘¨â€ğŸ’» ä½œè€…ï¼š** nexus-codegen-team

